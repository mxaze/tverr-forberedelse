<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/form.css" />
    <title>Edit user</title>
    <script>
      const id = window.location.pathname.split("/").pop();
      fetch("/api/getUser/" + id)
        .then((res) => res.json())
        .then((data) => {
          document.getElementById("id").value = data.id;
          document.getElementById("firstname").value = data.firstname;
          document.getElementById("lastname").value = data.lastname;
          document.getElementById("email").value = data.email;
          document.getElementById("role").value = data.role;
        });
    </script>
  </head>
  <body>
    <main>
      <form action="/api/updateUser/" method="POST">
        <input type="text" id="id" readonly name="id">
        <input type="text" id="firstname" name="firstname">
        <input type="text" id="lastname" name="lastname">
        <input type="mail" id="email" name="email">
        <select name="role" id="role">
            <option value="STUDENT">Student</option>
            <option value="TEACHER">Teacher</option>
            <option value="ITMEDARBEIDAR">IT-Medarbeidar</option>
            <option value="MILJOFAGARBEIDAR">Milj√∏fagarbeidar</option>
            <option value="ADMIN">Admin</option>
        </select>
        <input type="submit" value="Update User">
      </form>
    </main>
  </body>
</html>